(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,r){if("object"!==t(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===t(i)?i:String(i)),o)}var i}var r=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._config=e,this._form=r,this._inputList=Array.from(this._form.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._form.querySelector(this._config.submitButtonSelector),this._spanErrors=Array.from(this._form.querySelectorAll(".popup__error"))}var r,n;return r=t,(n=[{key:"_hideInputError",value:function(t){t.classList.remove(this._config.inputErrorClass);var e=this._form.querySelector(".".concat(t.id,"-error"));e.classList.remove(this._config.errorClass),e.textContent=""}},{key:"_showInputError",value:function(t){t.classList.add(this._config.inputErrorClass);var e=this._form.querySelector(".".concat(t.id,"-error"));e.classList.add(this._config.errorClass),e.textContent=t.validationMessage}},{key:"_hasInvalidInput",value:function(t){return t.some((function(t){return!t.validity.valid}))}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput(this._inputList)?(this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0):(this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1)}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_setEventListeners",value:function(){var t=this;this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListeners()}},{key:"disableAddCardPopupButton",value:function(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0}},{key:"switchProfileButtonMode",value:function(){this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1}},{key:"switchErrorMode",value:function(){this._spanErrors.forEach((function(t){t.textContent=""})),this._inputList.forEach((function(t){t.classList.remove("popup__input_type_error")}))}}])&&e(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),t}();function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===n(i)?i:String(i)),o)}var i}var i=function(){function t(e,r,n,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._title=e.name,this._photo=e.link,this._likes=e.likes,this._ownerId=e.owner._id,this._cardId=e._id,this._userId=r,this._templateSelector=n,this._openFullscreen=o,this._openRemoveCardPopup=i}var e,r;return e=t,(r=[{key:"_showUrn",value:function(){this._userId!==this._ownerId&&(this._deleteButton.style.display="none")}},{key:"_showLike",value:function(){}},{key:"_getTemplate",value:function(){return document.querySelector(this._templateSelector).content.querySelector(".card").cloneNode(!0)}},{key:"_setData",value:function(){this._cardTitle.textContent=this._title,this._cardImage.src=this._photo,this._cardImage.alt=this._title,this._likesCounter.textContent=this._likes.length}},{key:"deleteCard",value:function(){this._newCard.remove(),this._newCard=null}},{key:"_switchLike",value:function(){this._likeButton.classList.toggle("card__like_active")}},{key:"_setEventListeners",value:function(){var t=this;this._deleteButton.addEventListener("click",(function(){t._openRemoveCardPopup(t)})),this._likeButton.addEventListener("click",(function(){t._switchLike()})),this._cardImage.addEventListener("click",(function(){t._openFullscreen(t._title,t._photo)}))}},{key:"generateCard",value:function(){return this._newCard=this._getTemplate(),this._cardTitle=this._newCard.querySelector(".card__title"),this._cardImage=this._newCard.querySelector(".card__photo"),this._deleteButton=this._newCard.querySelector(".card__delete-button"),this._likeButton=this._newCard.querySelector(".card__like"),this._likesCounter=this._newCard.querySelector(".card__likes-counter"),this._showUrn(),this._setData(),this._setEventListeners(),this._newCard}}])&&o(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==u(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===u(o)?o:String(o)),n)}var o}var l=function(){function t(e,r,n){e.items;var o=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=o,this._container=document.querySelector(r),this._api=n}var e,r;return e=t,(r=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderCards",value:function(t){var e=this;t.forEach((function(t){e._renderer(t)}))}}])&&c(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function s(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==a(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===a(o)?o:String(o)),n)}var o}var f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._selector=document.querySelector(e),this._closeIcon=this._selector.querySelector(".popup__close-icon")}var e,r;return e=t,(r=[{key:"open",value:function(){this._selector.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose.bind(this))}},{key:"close",value:function(){this._selector.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose.bind(this))}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._closeIcon.addEventListener("click",(function(){t.close()})),this._selector.addEventListener("click",(function(e){e.target.classList.contains("popup_opened")&&t.close()}))}}])&&s(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==p(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===p(o)?o:String(o)),n)}var o}function d(){return d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},d.apply(this,arguments)}function h(t,e){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},h(t,e)}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(n);if(o){var r=_(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===p(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._title=e._selector.querySelector(".popup__fullscreen-title"),e._image=e._selector.querySelector(".popup__fullscreen-image"),e}return e=u,(r=[{key:"open",value:function(t,e){d(_(u.prototype),"open",this).call(this),this._title.textContent=t,this._image.src=e,this._image.alt=t}}])&&y(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(f);function b(t){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(t)}function m(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==b(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==b(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===b(o)?o:String(o)),n)}var o}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=w(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},S.apply(this,arguments)}function g(t,e){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},g(t,e)}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=w(n);if(o){var r=w(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t))._submitForm=e,r._form=r._selector.querySelector(".popup__form"),r._formInputList=r._form.querySelectorAll(".popup__input"),r}return e=u,(r=[{key:"_getInputValues",value:function(){var t=this;return this._inputsObject={},this._formInputList.forEach((function(e){t._inputsObject[e.name]=e.value})),this._inputsObject}},{key:"setEventListeners",value:function(){var t=this;S(w(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._submitForm(t._getInputValues()),t.close()}))}},{key:"close",value:function(){S(w(u.prototype),"close",this).call(this),this._form.reset()}}])&&m(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(f);function E(t){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E(t)}function j(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==E(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===E(o)?o:String(o)),n)}var o}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},O.apply(this,arguments)}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(u,t);var e,r,n,o,i=(n=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=C(n);if(o){var r=C(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return function(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,t)});function u(t,e){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(r=i.call(this,t))._form=r._selector.querySelector(".popup__form_type_delete-card"),r._deleteButton=r._selector.querySelector(".popup__submit-button_type_delete-card"),r._submitCallback=e,r}return e=u,(r=[{key:"setEventListeners",value:function(){var t=this;O(C(u.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._submitCallback(),t.close()}))}},{key:"setSubmitAction",value:function(t){this._submitCallback=t}}])&&j(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(f);function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function I(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==q(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==q(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===q(o)?o:String(o)),n)}var o}var T=function(){function t(e,r,n,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userName=document.querySelector(e.userNameSelector),this._userAbout=document.querySelector(e.userAboutSelector),this._avatar=o}var e,r;return e=t,(r=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,about:this._userAbout.textContent}}},{key:"setUserInfo",value:function(t){this._userName.textContent=t.name,this._userAbout.textContent=t.about}}])&&I(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function R(t){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R(t)}function A(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,(void 0,o=function(t,e){if("object"!==R(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!==R(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(n.key),"symbol"===R(o)?o:String(o)),n)}var o}var B=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._usersUrl=e.url.usersUrl,this._cardsUrl=e.url.cardsUrl,this._avatarUrl=e.url.avatarUrl,this._headers=e.headers}var e,r;return e=t,(r=[{key:"getInfoAboutUser",value:function(){return fetch(this._usersUrl,{method:"GET",headers:this._headers}).then((function(t){if(t.ok)return t.json();console.log("ошибка получения данных")}))}},{key:"getInitialCards",value:function(){return fetch(this._cardsUrl,{method:"GET",headers:this._headers}).then((function(t){if(t.ok)return t.json()}))}},{key:"editProfileInfo",value:function(t){return fetch(this._usersUrl,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t.name,about:t.about})}).then((function(t){if(t.ok)return t.json();console.log("ошибка обработки данных")}))}},{key:"editAvatar",value:function(t){return fetch(this._avatarUrl,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then((function(t){if(t.ok)return t.json();console.log("ошибка обработки данных аватара")}))}},{key:"sendCard",value:function(t){return fetch(this._cardsUrl,{method:"POST",headers:this._headers,body:JSON.stringify({name:t.name,link:t.link,likes:t.likes})}).then((function(t){if(t.ok)return console.log("отправка карточки прошла успешно"),t.json();console.log("ошибка получения данных")}))}},{key:"deleteCard",value:function(t){return fetch(this._cardsUrl+"/"+t,{method:"DELETE",headers:{authorization:"e900e361-a4f9-4167-b7d1-fcc078aa308a"}}).then((function(t){if(t.ok)return t.json();console.log("ошибка удаления карточки.","не проходит проверку res.ok")})).catch((function(t){console.log("не работает",t)}))}},{key:"putLike",value:function(){return fetch(this.cardsUrl+"/"+cardId+"/likes",{method:"PUT",headers:{authorization:"e900e361-a4f9-4167-b7d1-fcc078aa308a"}}).then((function(t){if(t.ok)return console.log("лайк ставится"),t.json()}))}},{key:"delteLike",value:function(){return fetch(this.cardsUrl+"/"+cardId+"/likes",{method:"DELETE",headers:{authorization:"e900e361-a4f9-4167-b7d1-fcc078aa308a"}}).then((function(t){if(t.ok)return console.log("лайк ставится"),t.json()}))}}])&&A(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),U=document.querySelector(".profile__edit-button"),x=(document.querySelector(".popup_type_profile"),document.querySelector(".profile__name")),D=document.querySelector(".profile__description"),N=document.querySelector(".popup__form_type_profile"),M=document.querySelector(".popup__input_type_name"),V=document.querySelector(".popup__input_type_profession"),z=document.querySelector(".profile__avatar"),F=document.querySelector(".popup__form_type_avatar"),J=(document.querySelectorAll(".popup__close-icon"),document.querySelectorAll(".popup"),document.querySelector(".elements"),document.querySelector(".profile__add-button")),G=(document.querySelector(".popup_type_add-card"),document.querySelector(".popup__input_type_card-name")),H=document.querySelector(".popup__input_type_card-link"),$=document.querySelector(".popup__form_type_add-card");function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}document.querySelector(".popup__fullscreen-image"),document.querySelector(".popup__fullscreen-title"),document.querySelector(".popup_type_fullscreen"),document.querySelector(".popup_type_delete-card");var Q=new B({url:{usersUrl:"https://nomoreparties.co/v1/cohort-63/users/me",cardsUrl:"https://mesto.nomoreparties.co/v1/cohort-63/cards",avatarUrl:"https://mesto.nomoreparties.co/v1/cohort-63/users/me/avatar"},headers:{authorization:"e900e361-a4f9-4167-b7d1-fcc078aa308a","Content-Type":"application/json"}}),W=(new T({userNameSelector:".profile__name",userAboutSelector:".profile__description"},x,D,z),new k(".popup_type_profile",(function(t){Q.editProfileInfo(t).then((function(t){console.log(t,"данные в момент отправления новой информации профиля"),x.textContent=t.name,D.textContent=t.about}))})));W.setEventListeners(),U.addEventListener("click",(function(){ut.switchErrorMode(),ut.switchProfileButtonMode(),M.value=x.textContent,V.value=D.textContent,W.open()}));var X=new k(".popup_type_avatar",(function(){var t=document.querySelector(".popup__input_type_avatar").value;console.log(t,"ссылка на аватар"),Q.editAvatar(t).then((function(t){console.log(t,"результат работы аватара"),z.src=t.avatar}))}));X.setEventListeners(),z.addEventListener("click",(function(){X.open()}));var Y=null;Promise.all([Q.getInfoAboutUser(),Q.getInitialCards()]).then((function(t){var e,r,n=(r=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,u,c=[],l=!0,a=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);l=!0);}catch(t){a=!0,o=t}finally{try{if(!l&&null!=r.return&&(u=r.return(),Object(u)!==u))return}finally{if(a)throw o}}return c}}(e,r)||function(t,e){if(t){if("string"==typeof t)return K(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?K(t,e):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=n[0],i=n[1];console.log(o,i,"вооооооооооооооот они!!!"),Y=o._id,console.log(Y,"hahahaahha"),x.textContent=o.name,D.textContent=o.about,z.src=o.avatar,Z.renderCards(i.reverse())})).catch((function(t){alert("Страница временно недоступна, ошибка - ".concat(t))}));var Z=new l({items:[],renderer:function(t){Z.addItem(tt(t))}},".elements");function tt(t){var e=new i(t,Y,"#card-template",nt,(function(){ot.open(),ot.setSubmitAction((function(){Q.deleteCard(t._id).then((function(){e.deleteCard()}))}))}));return e.generateCard()}var et=new k(".popup_type_add-card",(function(){var t={name:G.value,link:H.value,likes:[],owner:{_id:Y}};Q.sendCard(t).then((function(t){Z.addItem(tt(t))}))}));et.setEventListeners(),J.addEventListener("click",(function(){ct.switchErrorMode(),ct.disableAddCardPopupButton(),et.open()}));var rt=new v(".popup_type_fullscreen");function nt(t,e){rt.open(t,e)}rt.setEventListeners();var ot=new L(".popup_type_delete-card");ot.setEventListeners();var it={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},ut=new r(it,N);ut.enableValidation();var ct=new r(it,$);ct.enableValidation(),new r(it,F)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQXFCeEIsa0JBQ3JCd0IsR0FBcUJDLDRCQUNyQkgsR0FBWXBCLE1BQ2QsSUFFQSxJQUFNd0IsR0FBYSxJQUFJeEcsRUFBZSwwQkFHdEMsU0FBUytGLEdBQW9CekYsRUFBTzVELEdBQ2xDOEosR0FBV3hCLEtBQUsxRSxFQUFPNUQsRUFDekIsQ0FKQThKLEdBQVc1QixvQkFRWCxJQUFNb0IsR0FBa0IsSUFBSTVFLEVBQXNCLDJCQUNsRDRFLEdBQWdCcEIsb0JBTWhCLElBQU02QixHQUFlLENBQ25CQyxhQUFjLGVBQ2Q1TSxjQUFlLGdCQUNmRyxxQkFBc0Isd0JBQ3RCb0Isb0JBQXFCLGdDQUNyQmIsZ0JBQWlCLDBCQUNqQkksV0FBWSx3QkFNUmlLLEdBQXVCLElBQUkxTCxFQUFjc04sR0FBY3hDLEdBQzdEWSxHQUFxQjhCLG1CQUdyQixJQUFNTCxHQUF1QixJQUFJbk4sRUFBY3NOLEdBQWNqQyxHQUM3RDhCLEdBQXFCSyxtQkFHTyxJQUFJeE4sRUFBY3NOLEdBQWNyQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm0pIHtcclxuICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xyXG4gICAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuLy/QvNCw0YHRgdC40LIg0LjQvdC/0YPRgtC+0LJcclxuICAgICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcclxuLy/QutC90L7Qv9C60LAg0YHQvtGF0YDQsNC90LXQvdC40Y9cclxuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4vL9C80LDRgdGB0LjQsiDRgdC/0LDQvdC+0LIg0YEg0L7RiNC40LHQutC+0LlcclxuICAgICAgdGhpcy5fc3BhbkVycm9ycyA9IEFycmF5LmZyb20odGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2Vycm9yJykpO1xyXG4gICAgfTtcclxuICBcclxuLy/Qv9GA0Y/Rh9C10YIg0L7RiNC40LHQutC4XHJcbiAgICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICAgICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbi8v0YHQv9Cw0L0g0YEg0L7RiNC40LHQutC+0LlcclxuICAgICAgICBjb25zdCBlcnJvclNwYW4gPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgICAgICBlcnJvclNwYW4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XHJcbiAgICAgICAgZXJyb3JTcGFuLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICB9O1xyXG4gIFxyXG4vL9C/0L7QutCw0LfRi9Cy0LDQtdGCINC+0YjQuNCx0LrQuFxyXG4gICAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4vL9GB0L/QsNC9INGBINC+0YjQuNCx0LrQvtC5XHJcbiAgICAgICAgY29uc3QgZXJyb3JTcGFuID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICAgICAgZXJyb3JTcGFuLmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgICAgIGVycm9yU3Bhbi50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcclxuICAgIH07XHJcblxyXG4vL9C/0YDQvtCy0LXRgNGP0LXRgiDQtdGB0YLRjCDQu9C4INCyINGE0L7RgNC80LUg0YXQvtGC0Y8g0LHRiyAxINC90LXQstCw0LvQuNC00L3Ri9C5INC40L3Qv9GD0YJcclxuICAgIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xyXG4gICAgfTtcclxuICBcclxuLy/Qv9C10YDQtdC60LvRjtGH0LDRgtC10LvRjCDQutC90L7Qv9C60LhcclxuICAgIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgXHJcbi8v0LLRi9C30YvQstCw0LXRgiDRhNGD0L3QutGG0LjRjiDRgdC60YDRi9GC0Ywv0L/QvtC60LDQt9Cw0YLRjCDQvtGI0LjQsdC60YMg0LXRgdC70Lgg0L/QvtC70LUg0LLQsNC70LjQtNC90L4v0L3QtdCy0LDQu9C40LTQvdC+XHJcbiAgICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgICAgIGlmIChpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7IHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkgfVxyXG4gICAgfTtcclxuICBcclxuLy/QvdCw0YXQvtC00LjRgiDQstGB0LUg0L/QvtC70Y8g0YTQvtGA0LzRiyDQuCDQvdCwINC60LDQttC00L7QtSDQstC10YjQsNC10YIg0YHQvtCx0YvRgtC40LUgaW5wdXQsINCy0YvQt9GL0LLQsNC10YIg0YbQtdC/0L7Rh9C60YMg0L/RgNC+0LLQtdGA0LrQuCDQv9C+0LvRj1xyXG4gICAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG4gIFxyXG4vL9Cz0LvQvtCx0LDQu9GM0L3QsNGPINGE0YPQvdC60YbQuNGPLCDQstGL0LfRi9Cy0LDQtdGC0YHRjyDQsiDQuNC90LTQtdC60YHQtSDQtNC70Y8g0LrQsNC20LTQvtC5INGE0L7RgNC80YtfX19fX19fX19fX19fX19fXHJcbiAgICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB9O1xyXG5cclxuLy8g0YTRg9C90LrRhtC40Y8g0L7RgtC60LvRjtGH0LDQtdGCINC60L3QvtC/0LrRgyDQsiDRhNC+0YDQvNC1INC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60Lgg0L/RgNC4INC/0LXRgNCy0L7QvCDQvtGC0LrRgNGL0YLQuNC4XHJcbiAgICBkaXNhYmxlQWRkQ2FyZFBvcHVwQnV0dG9uKCkge1xyXG4gICAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuLy8g0YTRg9C90LrRhtC40Y8g0LDQutGC0LjQstC40YDRg9C10YIg0LrQvdC+0L/QutGDINC/0YDQvtGE0LjQu9GPINC/0YDQuCDQvtGC0LrRgNGL0YLQuNC4INC/0L7Qv9Cw0L/QsFxyXG4gICAgc3dpdGNoUHJvZmlsZUJ1dHRvbk1vZGUoKSB7XHJcbiAgICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuLy8g0YTRg9C90LrRhtC40Y8g0YHQutGA0YvQstCw0LXRgiDRgdC/0LDQvdGLINGBINC+0YjQuNCx0LrQvtC5INC4INGD0LTQsNC70Y/QtdGCINGB0YLQuNC70Lgg0L3QtdCy0LDQu9C40LTQvdGL0YUg0LjQvdC/0YPRgtC+0LJcclxuICAgIHN3aXRjaEVycm9yTW9kZSgpIHtcclxuICAgICAgICB0aGlzLl9zcGFuRXJyb3JzLmZvckVhY2goKHNwYW4pID0+IHtcclxuICAgICAgICAgICAgc3Bhbi50ZXh0Q29udGVudCA9ICcnO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyk7XHJcbiAgICAgICAgfSlcclxuICAgIH07XHJcblxyXG4gICAgfTsiLCJleHBvcnQgY2xhc3MgQ2FyZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCB1c2VySWQsIHRlbXBsYXRlU2VsZWN0b3IsIGZ1bGxzY3JlZW4sIG9wZW5SZW1vdmVDYXJkUG9wdXAgKSB7XHJcbiAgICAgICAgLy8g0YHQstC+0LnRgdGC0LLQsCDQutCw0YDRgtC+0YfQutC4XHJcbiAgICAgICAgdGhpcy5fdGl0bGUgPSBkYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fcGhvdG8gPSBkYXRhLmxpbms7XHJcbiAgICAgICAgdGhpcy5fbGlrZXMgPSBkYXRhLmxpa2VzO1xyXG4gICAgICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuICAgICAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcclxuXHJcbiAgICAgICAgdGhpcy5fdXNlcklkID0gdXNlcklkO1xyXG5cclxuICAgICAgICAvLyDRgdC10LvQtdC60YLQvtGAXHJcbiAgICAgICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XHJcbiAgICAgICAgLy8g0YTRg9C90LrRhtC40Lgg0L7RgtC60YDRi9GC0LjRjyDQvNC+0LTQsNC70L7QulxyXG4gICAgICAgIHRoaXMuX29wZW5GdWxsc2NyZWVuID0gZnVsbHNjcmVlbjtcclxuICAgICAgICB0aGlzLl9vcGVuUmVtb3ZlQ2FyZFBvcHVwID0gb3BlblJlbW92ZUNhcmRQb3B1cDtcclxuICAgIH07XHJcblxyXG4gICAgLy8g0L7RgNC40YHQvtCy0LrQsCDRg9GA0L3Riywg0LXRgdC70Lgg0LrQsNGA0YLQvtGH0LrQsCDQvNC+0Y9cclxuICAgIF9zaG93VXJuKCkge1xyXG4gICAgICAgIGlmKHRoaXMuX3VzZXJJZCAhPT0gdGhpcy5fb3duZXJJZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kZWxldGVCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgX3Nob3dMaWtlKCkge1xyXG4gICAgICAgIC8vIGNvbnN0IG15SWQgPSAnYmRlOGE5ZWY2MDE4N2YyZDZhNjdhOGY3JztcclxuICAgIH1cclxuXHJcbi8vINC/0L7Qu9GD0YfQsNGOINGI0LDQsdC70L7QvSDQtNC70Y8g0YHQvtC30LTQsNC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LgsINCx0YPQtNC10YIg0L/QtdGA0LXQtNCw0LLQsNGC0YzRgdGPINCyINC80LXRgtC+0LQgZ2VuZXJhdGVDYXJkINC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRjyDRgdC+0LTQtdGA0LbQuNC80YvQvC4g0JzQtdGC0L7QtCDQstC+0LfQstGA0LDRidCw0LXRgiDQsiDQutC+0L3RgdGC0LUg0YDQsNC30LzQtdGC0LrRgyBodG1sXHJcbiAgICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpLmNvbnRlbnQucXVlcnlTZWxlY3RvcignLmNhcmQnKS5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gICAgfTtcclxuXHJcbi8vINC80LXRgtC+0LQg0LTQvtCx0LDQstC70Y/QtdGCINC30L3QsNGH0LXQvdC40Y8g0LTQu9GPINGC0LDQudGC0LvQsCDQuCDRhNC+0YLQvlxyXG4gICAgX3NldERhdGEoKSB7XHJcbiAgICAgICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fdGl0bGU7XHJcbiAgICAgICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX3Bob3RvO1xyXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl90aXRsZTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLl9saWtlcylcclxuICAgICAgICB0aGlzLl9saWtlc0NvdW50ZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5fbGlrZXMubGVuZ3RoKVxyXG4gICAgfTtcclxuXHJcbi8vINC80LXRgtC+0LQg0YPQtNCw0LvRj9C10YIg0LrQsNGA0YLQvtGH0LrRg1xyXG4gICAgZGVsZXRlQ2FyZCgpIHtcclxuICAgICAgICB0aGlzLl9uZXdDYXJkLnJlbW92ZSgpO1xyXG4gICAgICAgIHRoaXMuX25ld0NhcmQgPSBudWxsO1xyXG4gICAgfTtcclxuXHJcbi8vINC/0LXRgNC10LrQu9GO0YfQsNGC0LXQu9GMINC70LDQudC60LBcclxuICAgIF9zd2l0Y2hMaWtlKCkge1xyXG4gICAgICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZF9fbGlrZV9hY3RpdmUnKTtcclxuICAgIH07XHJcblxyXG4vLyDQvNC10YLQvtC0INCy0LXRiNCw0LXRgiDQvtCx0YDQsNCx0L7RgtGH0LjQutC4XHJcbiAgICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgdGhpcy5fZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4geyBcclxuICAgICAgICAgICAgdGhpcy5fb3BlblJlbW92ZUNhcmRQb3B1cCh0aGlzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsgXHJcbiAgICAgICAgICAgIHRoaXMuX3N3aXRjaExpa2UoKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsgdGhpcy5fb3BlbkZ1bGxzY3JlZW4odGhpcy5fdGl0bGUsIHRoaXMuX3Bob3RvKSB9KTtcclxuICAgIH07XHJcblxyXG4vLyDQvdCw0L/QvtC70L3Rj9GOINGB0L7QtNC10YDQttC40LzRi9C8XHJcbiAgICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICAgICAgdGhpcy5fbmV3Q2FyZCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhcmRUaXRsZSA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcignLmNhcmRfX3RpdGxlJyk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcignLmNhcmRfX3Bob3RvJyk7XHJcblxyXG4gICAgICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcignLmNhcmRfX2RlbGV0ZS1idXR0b24nKTtcclxuXHJcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcignLmNhcmRfX2xpa2UnKTtcclxuXHJcbiAgICAgICAgdGhpcy5fbGlrZXNDb3VudGVyID0gdGhpcy5fbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZXMtY291bnRlcicpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX2xpa2VzQ291bnRlcilcclxuICAgICAgICB0aGlzLl9zaG93VXJuKCk7XHJcblxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX3VzZXJJZCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5fbGlrZXMpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX293bmVySWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuX3NldERhdGEoKTtcclxuICAgICAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fbmV3Q2FyZDtcclxuICAgIH07XHJcbn07IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xyXG4gICAgY29uc3RydWN0b3Ioe2l0ZW1zLCByZW5kZXJlcn0sIGNvbnRhaW5lciwgYXBpKSB7XHJcbiAgICAgICAgLy8gdGhpcy5faW5pdGlhbEFycmF5ID0gaXRlbXM7XHJcbiAgICAgICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy5fYXBpID0gYXBpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINC80LXRgtC+0LQg0LTQvtCx0LDQstC70Y/QtdGCINC60LDRgNGC0L7Rh9C60YMg0LIg0LrQvtC90YLQtdC50L3QtdGAXHJcbiAgICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICAgIH07XHJcblxyXG4gICAgLy8g0LzQtdGC0L7QtCDRgNC10L3QtNC10YDQuNGCINC60LDRgNGC0L7Rh9C60YNcclxuICAgIHJlbmRlckNhcmRzKGNhcmRzKSB7XHJcbiAgICAgICAgY2FyZHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBzYXZlQ2FyZHMoY2FyZCkge1xyXG4gICAgLy8gICAgIHRoaXMuX2FwaS5hZGRJdGVtXHJcbiAgICAvLyB9XHJcbn07IiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICB0aGlzLl9zZWxlY3RvciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fY2xvc2VJY29uID0gdGhpcy5fc2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZS1pY29uJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vINC80LXRgtC+0LQg0L7RgtC60YDRi9GC0LjRjyDQv9C+0L/QsNC/0LBcclxuICAgIG9wZW4oKSB7XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcykpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyDQvNC10YLQvtC0INC30LDQutGA0YvRgtC40Y9cclxuICAgIGNsb3NlKCkge1xyXG4gICAgICAgIHRoaXMuX3NlbGVjdG9yLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZS5iaW5kKHRoaXMpKTtcclxuICAgIH07XHJcblxyXG4gICAgLy8g0LfQsNC60YDRi9GC0LjQtSDQvdCwIEVTQ1xyXG4gICAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkge1xyXG4gICAgICAgIGlmKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9O1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyDQvdCw0LLQtdGI0LjQstCw0LXRgiDRgdC70YPRiNCw0YLQtdC70Lgg0LfQsNC60YDRi9GC0LjRjyDQvdCwINC60YDQtdGB0YLQuNC6INC4INC+0LLQtdGA0LvQtdC5XHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICB0aGlzLl9jbG9zZUljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7IHRoaXMuY2xvc2UoKSB9KTtcclxuXHJcbiAgICAgICAgLy8g0LfQsNC60YDRi9GC0LjQtSDQvdCwINC+0LLQtdGA0LvQtdC5XHJcbiAgICAgICAgdGhpcy5fc2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSkgeyB0aGlzLmNsb3NlKCkgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl90aXRsZSA9IHRoaXMuX3NlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZnVsbHNjcmVlbi10aXRsZScpO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlID0gdGhpcy5fc2VsZWN0b3IucXVlcnlTZWxlY3RvcignLnBvcHVwX19mdWxsc2NyZWVuLWltYWdlJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIG9wZW4odGl0bGUsIGxpbmspIHtcclxuICAgICAgICAvLyDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0LzQtdGC0L7QtCBvcGVuINCy0YvQs9C70Y/QtNC40YIg0YLQsNC6XHJcbiAgICAgICAgLy8gX19fX19fdGhpcy5fc2VsZWN0b3IuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XHJcbiAgICAgICAgc3VwZXIub3BlbigpOyBcclxuICAgICAgICB0aGlzLl90aXRsZS50ZXh0Q29udGVudCA9IHRpdGxlO1xyXG4gICAgICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XHJcbiAgICAgICAgdGhpcy5faW1hZ2UuYWx0ID0gdGl0bGU7XHJcbiAgICB9O1xyXG59IiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gICAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgY2FsbGJhY2spIHtcclxuICAgICAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgICAgICB0aGlzLl9zdWJtaXRGb3JtID0gY2FsbGJhY2s7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3NlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xyXG5cclxuICAgICAgICAvLyDQvNCw0YHRgdC40LIg0LjQvdC/0YPRgtC+0LIg0YTQvtGA0LzRi1xyXG4gICAgICAgIHRoaXMuX2Zvcm1JbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8vINC80LXRgtC+0LQg0YHQvtCx0LjRgNCw0LXRgiDQtNCw0L3QvdGL0LUg0LLRgdC10YUg0L/QvtC70LXQuSDRhNC+0YDQvNGLXHJcbiAgICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICAgICAgdGhpcy5faW5wdXRzT2JqZWN0ID0geyB9O1xyXG4gICAgICAgIC8vINC/0YDQuNGB0LLQsNGO0LLQsNGOINC60LDQttC00L7QvNGDINC40L3Qv9GD0YLRgyDRgdC/0LjRgdC60LAg0LfQvdCw0YfQtdC90LjQtSDQuCDQt9Cw0L/QuNGB0YvQstCw0Y4g0LIg0L7QsdGK0LXQutGCINC40Lcg0LjQvdC/0YPRgtC+0LJcclxuICAgICAgICB0aGlzLl9mb3JtSW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lucHV0c09iamVjdFtpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX2lucHV0c09iamVjdClcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5wdXRzT2JqZWN0O1xyXG4gICAgfTtcclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLl9zdWJtaXRGb3JtKHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjYXJkRGF0YSlcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5fc3VibWl0Rm9ybSh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKSk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgY2xvc2UoKSB7XHJcbiAgICAgICAgc3VwZXIuY2xvc2UoKTtcclxuICAgICAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgICB9O1xyXG59IiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhDb25maXJtYXRpb24gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzZWxlY3Rvciwgc3VibWl0Q2FsbGJhY2spIHtcclxuICAgICAgICBzdXBlcihzZWxlY3Rvcik7XHJcbiAgICAgICAgdGhpcy5fZm9ybSA9IHRoaXMuX3NlbGVjdG9yLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV90eXBlX2RlbGV0ZS1jYXJkJyk7ICAgICAgICBcclxuICAgICAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9zZWxlY3Rvci5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1Ym1pdC1idXR0b25fdHlwZV9kZWxldGUtY2FyZCcpO1xyXG4gICAgICAgIHRoaXMuX3N1Ym1pdENhbGxiYWNrID0gc3VibWl0Q2FsbGJhY2s7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgICAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Ym1pdENhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIHNldFN1Ym1pdEFjdGlvbihhY3Rpb24pIHtcclxuICAgICAgICB0aGlzLl9zdWJtaXRDYWxsYmFjayA9IGFjdGlvbjtcclxuICAgIH1cclxuXHJcbn0iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xyXG4gICAgY29uc3RydWN0b3IodXNlckluZm8sIHByb2ZpbGVOYW1lLCBkZXNjcmlwdGlvbiwgYXZhdGFyKSB7XHJcbiAgICAgICAgdGhpcy5fdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJJbmZvLnVzZXJOYW1lU2VsZWN0b3IpO1xyXG4gICAgICAgIHRoaXMuX3VzZXJBYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlckluZm8udXNlckFib3V0U2VsZWN0b3IpO1xyXG4gICAgICAgIC8vIHRoaXMuX2FwaSA9IGFwaTtcclxuICAgICAgICAvLyB0aGlzLl9wcm9maWxlTmFtZSA9IHByb2ZpbGVOYW1lO1xyXG4gICAgICAgIC8vIHRoaXMuX2Rlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyID0gYXZhdGFyO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyDQstC+0LfQstGA0LDRidCw0LXRgiDQvtCx0YrQtdC60YIg0YEg0LTQsNC90L3Ri9C80Lgg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPXHJcbiAgICBnZXRVc2VySW5mbygpIHtcclxuICAgICAgICBjb25zdCB1c2VyRGF0YSA9IHtcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgICAgICAgIGFib3V0OiB0aGlzLl91c2VyQWJvdXQudGV4dENvbnRlbnRcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVzZXJEYXRhO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyDQv9GA0LjQvdC40LzQsNC10YIg0L3QvtCy0YvQtSDQtNCw0L3QvdGL0LUg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GPINC4INC00L7QsdCw0LLQu9GP0LXRgiDQuNGFINC90LAg0YHRgtGA0LDQvdC40YbRg1xyXG4gICAgc2V0VXNlckluZm8obmV3VXNlckRhdGEpIHtcclxuICAgICAgICB0aGlzLl91c2VyTmFtZS50ZXh0Q29udGVudCA9IG5ld1VzZXJEYXRhLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fdXNlckFib3V0LnRleHRDb250ZW50ID0gbmV3VXNlckRhdGEuYWJvdXQ7XHJcbiAgICB9O1xyXG4gICAgXHJcbn0iLCJleHBvcnQgY2xhc3MgQXBpIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgICAgIHRoaXMuX3VzZXJzVXJsID0gY29uZmlnLnVybC51c2Vyc1VybDtcclxuICAgICAgICB0aGlzLl9jYXJkc1VybCA9IGNvbmZpZy51cmwuY2FyZHNVcmw7XHJcbiAgICAgICAgdGhpcy5fYXZhdGFyVXJsID0gY29uZmlnLnVybC5hdmF0YXJVcmw7XHJcbiAgICAgICAgdGhpcy5faGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDQvNC10YLQvtC0INC00LvRjyDQv9C+0LvRg9GH0LXQvdC40Y8g0LjQvdGE0L7RgNC80LDRhtC40Lgg0L4g0L/QvtC70YzQt9C+0LLQsNGC0LXQu9C1XHJcbiAgICBnZXRJbmZvQWJvdXRVc2VyKCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLl91c2Vyc1VybCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn0L7RiNC40LHQutCwINC/0L7Qu9GD0YfQtdC90LjRjyDQtNCw0L3QvdGL0YUnKTtcclxuICAgICAgICAgICAgfSlcclxuICAgIH07XHJcblxyXG4gICAgLy8g0LzQtdGC0L7QtCDQtNC70Y8g0L/QvtC70YPRh9C10L3QuNGPINC00LDQvdC90YvRhSDQviDQutCw0YDRgtC+0YfQutCw0YVcclxuICAgIGdldEluaXRpYWxDYXJkcygpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fY2FyZHNVcmwsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyBcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8gLmNhdGNoKGFsZXJ0KCfQvtGI0LjQsdC60LAnKSlcclxuICAgIH07XHJcblxyXG4gICAgLy8g0LzQtdGC0L7QtCDQtNC70Y8g0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyDQv9GA0L7RhNC40LvRj1xyXG4gICAgZWRpdFByb2ZpbGVJbmZvKHVzZXJJbmZvKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuX3VzZXJzVXJsLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgICBuYW1lOiB1c2VySW5mby5uYW1lLFxyXG4gICAgICAgICAgICBhYm91dDogdXNlckluZm8uYWJvdXRcclxuICAgICAgICB9KX0sXHJcbiAgICAgICAgKVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQvtGI0LjQsdC60LAg0L7QsdGA0LDQsdC+0YLQutC4INC00LDQvdC90YvRhScpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vINC80LXRgtC+0LQg0LTQu9GPINC+0YLRgNC40YHQvtCy0LrQuCDQsNCy0LDRgtCw0YDQutC4XHJcbiAgICBlZGl0QXZhdGFyKHVybEF2YXRhcikge1xyXG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9hdmF0YXJVcmwsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIGF2YXRhcjogdXJsQXZhdGFyXHJcbiAgICAgICAgfSl9LFxyXG4gICAgICAgIClcclxuICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn0L7RiNC40LHQutCwINC+0LHRgNCw0LHQvtGC0LrQuCDQtNCw0L3QvdGL0YUg0LDQstCw0YLQsNGA0LAnKTtcclxuICAgICAgICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8g0L7RgtC/0YDQsNCy0LrQsCDQutCw0YDRgtC+0YfQutC4INC90LAg0YHQtdGA0LLQtdGAXHJcbiAgICBzZW5kQ2FyZChvYmplY3QpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2godGhpcy5fY2FyZHNVcmwsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtuYW1lOiBvYmplY3QubmFtZSwgbGluazogb2JqZWN0LmxpbmssIGxpa2VzOiBvYmplY3QubGlrZXN9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZihyZXMub2spIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQvtGC0L/RgNCw0LLQutCwINC60LDRgNGC0L7Rh9C60Lgg0L/RgNC+0YjQu9CwINGD0YHQv9C10YjQvdC+JylcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQvtGI0LjQsdC60LAg0L/QvtC70YPRh9C10L3QuNGPINC00LDQvdC90YvRhScpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLy8g0YPQtNCw0LvQtdC90LjQtSDQutCw0YDRgtC+0YfQutC4INGBINGB0LXRgNCy0LXRgNCwXHJcbiAgICBkZWxldGVDYXJkKGNhcmRJZCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLl9jYXJkc1VybCArICcvJyArIGNhcmRJZCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiAnZTkwMGUzNjEtYTRmOS00MTY3LWI3ZDEtZmNjMDc4YWEzMDhhJ1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXMub2spIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn0L7RiNC40LHQutCwINGD0LTQsNC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuC4nLCAn0L3QtSDQv9GA0L7RhdC+0LTQuNGCINC/0YDQvtCy0LXRgNC60YMgcmVzLm9rJyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn0L3QtSDRgNCw0LHQvtGC0LDQtdGCJywgZXJyKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwdXRMaWtlKCkge1xyXG4gICAgICAgIHJldHVybiBmZXRjaCh0aGlzLmNhcmRzVXJsICsgJy8nICsgY2FyZElkICsgJy9saWtlcycsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvbjogJ2U5MDBlMzYxLWE0ZjktNDE2Ny1iN2QxLWZjYzA3OGFhMzA4YSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZihyZXMub2spIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfQu9Cw0LnQuiDRgdGC0LDQstC40YLRgdGPJylcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBkZWx0ZUxpa2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKHRoaXMuY2FyZHNVcmwgKyAnLycgKyBjYXJkSWQgKyAnL2xpa2VzJywge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiAnZTkwMGUzNjEtYTRmOS00MTY3LWI3ZDEtZmNjMDc4YWEzMDhhJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmKHJlcy5vaykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ9C70LDQudC6INGB0YLQsNCy0LjRgtGB0Y8nKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxufSIsIi8vINC/0LXRgNC10LzQtdC90L3Ri9C1XHJcbmV4cG9ydCBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfdHlwZV9wcm9maWxlJyk7XHJcblxyXG5leHBvcnQgY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xyXG5leHBvcnQgY29uc3QgZGVzY3JpcHRpb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZGVzY3JpcHRpb24nKTtcclxuZXhwb3J0IGNvbnN0IHBvcHVwRm9ybVByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fdHlwZV9wcm9maWxlJyk7XHJcbmV4cG9ydCBjb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfbmFtZScpO1xyXG5leHBvcnQgY29uc3Qgam9iSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfcHJvZmVzc2lvbicpO1xyXG5cclxuLy8g0LTQu9GPINCw0LLQsNGC0LDRgNC60LhcclxuZXhwb3J0IGNvbnN0IGF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IGF2YXRhckZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm1fdHlwZV9hdmF0YXInKTtcclxuXHJcblxyXG4vL9C60L3QvtC/0LXQutC4INC30LDQutGA0YvRgtC40Y8g0L/QvtC/0LDQv9C+0LJcclxuZXhwb3J0IGNvbnN0IGNsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9fY2xvc2UtaWNvbicpO1xyXG5cclxuLy8g0LzQsNGB0YHQuNCyINC/0L7Qv9Cw0L/QvtCyLCDQstC60LvRjtGH0LDRjyDQvtCy0LXRgNC70LXQuFxyXG5leHBvcnQgY29uc3QgcG9wdXBBcnJheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cCcpO1xyXG5cclxuLy8g0LTQu9GPINGE0L7RgtC+INC60LDRgNGC0L7Rh9C10LpcclxuZXhwb3J0IGNvbnN0IHNlY3Rpb25FbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50cycpO1xyXG5cclxuLy8g0LrQvtC90YHRgtGLINC00LvRjyDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvdC+0LLQvtC5INC60LDRgNGC0L7Rh9C60LhcclxuZXhwb3J0IGNvbnN0IG5ld0NhcmRBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBUeXBlQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2FkZC1jYXJkJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cElucHV0VHlwZUNhcmROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX2NhcmQtbmFtZScpO1xyXG5leHBvcnQgY29uc3QgcG9wdXBJbnB1dFR5cGVDYXJkTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9jYXJkLWxpbmsnKTtcclxuZXhwb3J0IGNvbnN0IGZvcm1UeXBlQWRkQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybV90eXBlX2FkZC1jYXJkJyk7XHJcblxyXG4vLyDQtNC70Y8g0YTRg9C70LvRgdC60YDQuNC9INC60LDRgNGC0L7Rh9C10LpcclxuZXhwb3J0IGNvbnN0IGZ1bGxzY3JlZW5JbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZnVsbHNjcmVlbi1pbWFnZScpO1xyXG5leHBvcnQgY29uc3QgZnVsbHNjcmVlblRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19mdWxsc2NyZWVuLXRpdGxlJyk7XHJcbmV4cG9ydCBjb25zdCBwb3B1cFR5cGVGdWxsc2NyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfZnVsbHNjcmVlbicpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGV0ZUNhcmRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF90eXBlX2RlbGV0ZS1jYXJkJyk7XHJcblxyXG5cclxuLy8g0L3QsNGH0LDQu9GM0L3Ri9C5INC80LDRgdGB0LjQsl9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xyXG4vLyBleHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xyXG4vLyAgICAge1xyXG4vLyAgICAgICBuYW1lOiAn0JDRgNGF0YvQtycsXHJcbi8vICAgICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvYXJraHl6LmpwZydcclxuLy8gICAgIH0sXHJcbi8vICAgICB7XHJcbi8vICAgICAgIG5hbWU6ICfQp9C10LvRj9Cx0LjQvdGB0LrQsNGPINC+0LHQu9Cw0YHRgtGMJyxcclxuLy8gICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJ1xyXG4vLyAgICAgfSxcclxuLy8gICAgIHtcclxuLy8gICAgICAgbmFtZTogJ9Ca0LDRgNC10LvQuNGPJyxcclxuLy8gICAgICAgbGluazogJ2h0dHBzOi8vd3d3LnktZmxpZ2h0cy5jb20vYmxvZ3MvYXZ0LWthcmVsaXlhL2F2dG9yc2tpaC10dXJvdi12LWthcmVsaXl1LmpwZydcclxuLy8gICAgIH0sXHJcbi8vICAgICB7XHJcbi8vICAgICAgIG5hbWU6ICfQmtCw0LzRh9Cw0YLQutCwJyxcclxuLy8gICAgICAgbGluazogJ2h0dHBzOi8va2FydGlua2luLm5ldC9waWNzL3VwbG9hZHMvcG9zdHMvMjAyMi0wOC8xNjU5NTE2ODEzXzY4LWthcnRpbmtpbi1uZXQtcC1kZWlzdHZ1eXVzaGNoaWUtdnVsa2FuaS1rYW1jaGF0a2ktcHJpcm9kYS02OS5qcGcnXHJcbi8vICAgICB9LFxyXG4vLyAgICAge1xyXG4vLyAgICAgICBuYW1lOiAn0J/QtdGC0YDQvtC/0LDQstC70L7QstGB0Lot0JrQsNC80YfQsNGC0YHQutC40LknLFxyXG4vLyAgICAgICBsaW5rOiAnaHR0cHM6Ly9rZXktbXMucnUvd3AtY29udGVudC91cGxvYWRzLzIvNi8zLzI2MzYwOGJjZDI1NjM0ZGViMGNlODkxODhlYjNhNjIzLmpwZWcnXHJcbi8vICAgICB9LFxyXG4vLyAgICAge1xyXG4vLyAgICAgICBuYW1lOiAn0JHQsNC50LrQsNC7JyxcclxuLy8gICAgICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9iYWlrYWwuanBnJ1xyXG4vLyAgICAgfVxyXG4vLyAgIF07IiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcblxyXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJztcclxuXHJcbmltcG9ydCB7IENhcmQgfSBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5cclxuaW1wb3J0IHsgU2VjdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcblxyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5cclxuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XHJcblxyXG5pbXBvcnQgeyBQb3B1cFdpdGhDb25maXJtYXRpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm1hdGlvbi5qcydcclxuXHJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcblxyXG5pbXBvcnQgeyBBcGkgfSBmcm9tICcuLi9jb21wb25lbnRzL0FwaSc7XHJcblxyXG5pbXBvcnQgeyBcclxuICBkZWxldGVDYXJkUG9wdXAsXHJcbiAgYXZhdGFyRm9ybSxcclxuICBhdmF0YXIsXHJcbiAgaW5pdGlhbENhcmRzLFxyXG4gIGVkaXRCdXR0b24sXHJcbiAgcG9wdXBQcm9maWxlLFxyXG4gIHByb2ZpbGVOYW1lLFxyXG4gIGRlc2NyaXB0aW9uLFxyXG4gIHBvcHVwRm9ybVByb2ZpbGUsXHJcbiAgbmFtZUlucHV0LFxyXG4gIGpvYklucHV0LFxyXG4gIGNsb3NlQnV0dG9ucyxcclxuICBwb3B1cEFycmF5LFxyXG4gIHNlY3Rpb25FbGVtZW50cyxcclxuICBuZXdDYXJkQWRkQnV0dG9uLFxyXG4gIHBvcHVwVHlwZUFkZENhcmQsXHJcbiAgcG9wdXBJbnB1dFR5cGVDYXJkTmFtZSxcclxuICBwb3B1cElucHV0VHlwZUNhcmRMaW5rLFxyXG4gIGZvcm1UeXBlQWRkQ2FyZCxcclxuICBmdWxsc2NyZWVuSW1hZ2UsXHJcbiAgZnVsbHNjcmVlblRpdGxlLFxyXG4gIHBvcHVwVHlwZUZ1bGxzY3JlZW5cclxufSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnO1xyXG5cclxuLy8g0LrQvtC90YTQuNCzINC00LvRjyBBUElfX19fX19fX19fX19fX19fX19fX19fX19fX19cclxuY29uc3QgYXBpQ29uZmlnID0ge1xyXG4gIHVybDoge1xyXG4gICAgdXNlcnNVcmw6ICdodHRwczovL25vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTYzL3VzZXJzL21lJyxcclxuICAgIGNhcmRzVXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02My9jYXJkcycsXHJcbiAgICBhdmF0YXJVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTYzL3VzZXJzL21lL2F2YXRhcidcclxufSxcclxuICBoZWFkZXJzOiB7XHJcbiAgICBhdXRob3JpemF0aW9uOiAnZTkwMGUzNjEtYTRmOS00MTY3LWI3ZDEtZmNjMDc4YWEzMDhhJyxcclxuICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuLy8g0LjQvdGB0YLQsNC90YEgQVBJX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoYXBpQ29uZmlnKTtcclxuXHJcblxyXG5cclxuLy8g0LjQvdGB0YLQsNC90YEgVXNlckluZm9cclxuY29uc3QgdXNlciA9IG5ldyBVc2VySW5mbyh7XHJcbiAgdXNlck5hbWVTZWxlY3RvcjogJy5wcm9maWxlX19uYW1lJyxcclxuICB1c2VyQWJvdXRTZWxlY3RvcjogJy5wcm9maWxlX19kZXNjcmlwdGlvbidcclxufSwgcHJvZmlsZU5hbWUsIGRlc2NyaXB0aW9uLCBhdmF0YXIpO1xyXG5cclxuXHJcblxyXG4vLyDQv9C+0L/QsNC/INGE0L7RgNC80Ysg0L/RgNC+0YTQuNC70Y9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cclxuY29uc3QgcHJvZmlsZUZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfcHJvZmlsZScsICh1c2VyRGF0YSkgPT4ge1xyXG4gIGFwaS5lZGl0UHJvZmlsZUluZm8odXNlckRhdGEpXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKHJlcywgJ9C00LDQvdC90YvQtSDQsiDQvNC+0LzQtdC90YIg0L7RgtC/0YDQsNCy0LvQtdC90LjRjyDQvdC+0LLQvtC5INC40L3RhNC+0YDQvNCw0YbQuNC4INC/0YDQvtGE0LjQu9GPJyk7XHJcbiAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gcmVzLm5hbWU7XHJcbiAgICAgIGRlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gcmVzLmFib3V0O1xyXG4gICAgfSlcclxufSk7XHJcbi8vINGB0LvRg9GI0LDRgtC10LvQuCDQv9C+0L/QsNC/0LAg0L/RgNC+0YTQuNC70Y9cclxucHJvZmlsZUZvcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcblxyXG5cclxuLy8g0L7RgtC60YDRi9GC0LjQtSDRhNC+0YDQvNGLINGA0LXQtNCw0LrRgtC40YDQvtCy0LDQvdC40Y8g0L/RgNC+0YTQuNC70Y9cclxuZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICB2YWxpZGF0b3JQcm9maWxlRm9ybS5zd2l0Y2hFcnJvck1vZGUoKTtcclxuICB2YWxpZGF0b3JQcm9maWxlRm9ybS5zd2l0Y2hQcm9maWxlQnV0dG9uTW9kZSgpO1xyXG4gIG5hbWVJbnB1dC52YWx1ZSA9IHByb2ZpbGVOYW1lLnRleHRDb250ZW50O1xyXG4gIGpvYklucHV0LnZhbHVlID0gZGVzY3JpcHRpb24udGV4dENvbnRlbnQ7XHJcbiAgcHJvZmlsZUZvcm0ub3BlbigpO1xyXG59KTtcclxuXHJcblxyXG5cclxuLy8g0L/QvtC/0LDQvyDQsNCy0LDRgtCw0YDQutC4X19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXHJcbmNvbnN0IGZvcm1XaXRoQXZhdGFyID0gbmV3IFBvcHVwV2l0aEZvcm0oJy5wb3B1cF90eXBlX2F2YXRhcicsICgpID0+IHtcclxuICBjb25zdCB1cmxBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfYXZhdGFyJykudmFsdWU7XHJcblxyXG4gICAgY29uc29sZS5sb2codXJsQXZhdGFyLCAn0YHRgdGL0LvQutCwINC90LAg0LDQstCw0YLQsNGAJylcclxuICAgIGFwaS5lZGl0QXZhdGFyKHVybEF2YXRhcilcclxuICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHJlcywgJ9GA0LXQt9GD0LvRjNGC0LDRgiDRgNCw0LHQvtGC0Ysg0LDQstCw0YLQsNGA0LAnKTtcclxuICAgICAgICBhdmF0YXIuc3JjID0gcmVzLmF2YXRhcjtcclxuICAgICAgfSlcclxuICB9KTtcclxuICBmb3JtV2l0aEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAvLyDQvtGC0LrRgNGL0YLQuNC1INGE0L7RgNC80Ysg0LDQstCw0YLQsNGA0LrQuFxyXG4gIGF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIC8vIGZvcm1XaXRoQXZhdGFyLmRpc2FibGVGb3JtV2l0aEF2YXRhckJ1dHRvbigpO1xyXG4gICAgZm9ybVdpdGhBdmF0YXIub3BlbigpO1xyXG4gIH0pXHJcbi8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xyXG5cclxuXHJcblxyXG5sZXQgdXNlcklkID0gbnVsbDtcclxuXHJcbi8vINC30LDQv9GA0L7RgdGLIHVzZXJpbmZvINC4IGluaXRpYWxjYXJkc1xyXG5Qcm9taXNlLmFsbChbYXBpLmdldEluZm9BYm91dFVzZXIoKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcclxuICAudGhlbihcclxuICAgIChbdXNlckluZm8sIGNhcmRzXSkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyh1c2VySW5mbywgY2FyZHMsICfQstC+0L7QvtC+0L7QvtC+0L7QvtC+0L7QvtC+0L7QvtGCINC+0L3QuCEhIScpO1xyXG4gICAgICB1c2VySWQgPSB1c2VySW5mby5faWQ7XHJcbiAgICAgIC8vIGNhcmRJZCA9IGNhcmRzLm93bmVyLl9pZDtcclxuICAgICAgY29uc29sZS5sb2codXNlcklkLCAnaGFoYWhhYWhoYScpXHJcbiAgICAgIC8vINGA0LXQvdC00LXRgCDQv9GA0L7RhNC40LvRj1xyXG4gICAgICBjb25zdCByZW5kZXJQcm9maWxlID0gKCkgPT4ge1xyXG4gICAgICAgIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gdXNlckluZm8ubmFtZTtcclxuICAgICAgICBkZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IHVzZXJJbmZvLmFib3V0O1xyXG4gICAgICAgIGF2YXRhci5zcmMgPSB1c2VySW5mby5hdmF0YXI7XHJcbiAgICAgIH07IFxyXG4gICAgICByZW5kZXJQcm9maWxlKCk7XHJcbiAgICAgIC8vINGA0LXQvdC00LXRgCDQutCw0YDRgtC+0YfQtdC6XHJcbiAgICAgIGNhcmRMaXN0LnJlbmRlckNhcmRzKGNhcmRzLnJldmVyc2UoKSk7XHJcbiAgICB9IFxyXG4gIClcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgYWxlcnQoYNCh0YLRgNCw0L3QuNGG0LAg0LLRgNC10LzQtdC90L3QviDQvdC10LTQvtGB0YLRg9C/0L3QsCwg0L7RiNC40LHQutCwIC0gJHsoZXJyKX1gKTtcclxuICB9KVxyXG5cclxuXHJcblxyXG4vLyDQuNC90YHRgtCw0L3RgSBTZWN0aW9uX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cclxuXHJcbmNvbnN0IGNhcmRMaXN0ID0gbmV3IFNlY3Rpb24oe1xyXG4gIGl0ZW1zOiBbXSwgXHJcbiAgcmVuZGVyZXI6IChjYXJkKSA9PiB7XHJcbiAgICBjYXJkTGlzdC5hZGRJdGVtKGNyZWF0ZUNhcmQoY2FyZCkpO1xyXG59fSwgJy5lbGVtZW50cycpO1xyXG5cclxuLy8g0YTRg9C90LrRhtC40Y8g0YHQvtC30LTQsNC90LjRjyDQuNC90YHRgtCw0L3RgdCwINC60LDRgNGC0L7Rh9C60LhfX19fX19fX19fX19fX19fX19fX19cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQob2JqZWN0KSB7XHJcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKG9iamVjdCwgdXNlcklkLCAnI2NhcmQtdGVtcGxhdGUnLCBvcGVuRnVsbHNjcmVlblBob3RvLCAoKSA9PiB7XHJcbiAgICByZW1vdmVDYXJkUG9wdXAub3BlbigpO1xyXG4gICAgcmVtb3ZlQ2FyZFBvcHVwLnNldFN1Ym1pdEFjdGlvbigoKSA9PiB7XHJcbiAgICAgIGFwaS5kZWxldGVDYXJkKG9iamVjdC5faWQpXHJcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgY2FyZC5kZWxldGVDYXJkKClcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuICB9XHJcbik7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufTtcclxuXHJcbi8vINC/0L7Qv9Cw0L8g0LTQvtCx0LDQstC70LXQvdC40Y8g0LrQsNGA0YLQvtGH0LrQuF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xyXG5jb25zdCBhZGRDYXJkRm9ybSA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9hZGQtY2FyZCcsICgpID0+IHtcclxuXHJcbiAgY29uc3Qgb2JqZWN0ID0ge1xyXG4gICAgbmFtZTogcG9wdXBJbnB1dFR5cGVDYXJkTmFtZS52YWx1ZSxcclxuICAgIGxpbms6IHBvcHVwSW5wdXRUeXBlQ2FyZExpbmsudmFsdWUsXHJcbiAgICBsaWtlczogW10sXHJcbiAgICBvd25lcjoge1xyXG4gICAgICBfaWQ6ICB1c2VySWRcclxuICAgIH1cclxuICB9O1xyXG4gIC8vINC30LDQv9GA0L7RgSDQvdCwINC00L7QsdCw0LLQu9C10L3QuNC1XHJcbiAgYXBpLnNlbmRDYXJkKG9iamVjdClcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKHJlcykpO1xyXG4gICAgfSlcclxufSk7XHJcblxyXG4vLyDRgdC70YPRiNCw0YLQtdC70Ywg0L7RgtC60YDRi9GC0LjRjyDRhNC+0YDQvNGLINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60Lgg0Lgg0YHQu9GD0YjQsNGC0LXQu9C4INC/0L7Qv9Cw0L/QsFxyXG5hZGRDYXJkRm9ybS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5uZXdDYXJkQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIHZhbGlkYXRvckFkZENhcmRGb3JtLnN3aXRjaEVycm9yTW9kZSgpO1xyXG4gIHZhbGlkYXRvckFkZENhcmRGb3JtLmRpc2FibGVBZGRDYXJkUG9wdXBCdXR0b24oKTtcclxuICBhZGRDYXJkRm9ybS5vcGVuKCk7XHJcbn0pO1xyXG4vLyDQv9C+0L/QsNC/INC+0YLQutGA0YvRgtC+0Lkg0LrQsNGA0YLQvtGH0LrQuCDQuCDQtdCz0L4g0YHQu9GD0YjQsNGC0LXQu9C4XHJcbmNvbnN0IGltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF90eXBlX2Z1bGxzY3JlZW4nKTtcclxuaW1hZ2VQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4vLyDRhNGD0L3QutGG0LjRjyDQvtGC0LrRgNGL0YLQuNGPINGE0L7RgtC+XHJcbmZ1bmN0aW9uIG9wZW5GdWxsc2NyZWVuUGhvdG8odGl0bGUsIGxpbmspIHtcclxuICBpbWFnZVBvcHVwLm9wZW4odGl0bGUsIGxpbmspO1xyXG59O1xyXG5cclxuXHJcbi8vINC/0L7Qv9Cw0L8g0YPQtNCw0LvQtdC90LjRjyDQutCw0YDRgtC+0YfQutC4X19fX19fX19fX19fX19fX19fX19fX19fX19fX19cclxuY29uc3QgcmVtb3ZlQ2FyZFBvcHVwID0gbmV3IFBvcHVwV2l0aENvbmZpcm1hdGlvbignLnBvcHVwX3R5cGVfZGVsZXRlLWNhcmQnKTsgXHJcbnJlbW92ZUNhcmRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcblxyXG4vLyDQstCw0LvQuNC00LDRhtC40Y9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xyXG5cclxuY29uc3QgZW5hYmxlQ29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXHJcbiAgaW5wdXRTZWxlY3RvcjogJy5wb3B1cF9faW5wdXQnLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19zdWJtaXQtYnV0dG9uJyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3N1Ym1pdC1idXR0b25fZGlzYWJsZWQnLFxyXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcclxuICBlcnJvckNsYXNzOiAncG9wdXBfX2Vycm9yX3Zpc2libGUnXHJcbn07XHJcblxyXG4vLyBjb25zb2xlLmxvZyhmb3JtV2l0aEF2YXRhci5kaXNhYmxlRm9ybVdpdGhBdmF0YXJCdXR0b24pXHJcblxyXG4vLyDQstCw0LvQuNC00LDRgtC+0YAg0YTQvtGA0LzRiyDQv9GA0L7RhNC40LvRj1xyXG5jb25zdCB2YWxpZGF0b3JQcm9maWxlRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKGVuYWJsZUNvbmZpZywgcG9wdXBGb3JtUHJvZmlsZSk7XHJcbnZhbGlkYXRvclByb2ZpbGVGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vINCy0LDQu9C40LTQsNGC0L7RgCDRhNC+0YDQvNGLINC00L7QsdCw0LLQu9C10L3QuNGPINC60LDRgNGC0L7Rh9C60LhcclxuY29uc3QgdmFsaWRhdG9yQWRkQ2FyZEZvcm0gPSBuZXcgRm9ybVZhbGlkYXRvcihlbmFibGVDb25maWcsIGZvcm1UeXBlQWRkQ2FyZCk7XHJcbnZhbGlkYXRvckFkZENhcmRGb3JtLmVuYWJsZVZhbGlkYXRpb24oKTtcclxuXHJcbi8vINCy0LDQu9C40LTQsNGC0L7RgCDRhNC+0YDQvNGLINCw0LLQsNGC0LDRgNC60LhcclxuY29uc3QgdmFsaWRhdG9yQXZhdGFyRm9ybSA9IG5ldyBGb3JtVmFsaWRhdG9yKGVuYWJsZUNvbmZpZywgYXZhdGFyRm9ybSk7XHJcbi8vIHZhbGlkYXRvckF2YXRhckZvcm0uZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5cclxuXHJcbi8vIGNvbnN0IGluZm9BYm91dE1lID0gbmV3IEFwaSh1c2VySW5mb1NldHRpbmcpO1xyXG4vLyBpbmZvQWJvdXRNZS5nZXRJbmZvQWJvdXRVc2VyKCk7XHJcblxyXG4vLyBfX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXHJcblxyXG5cclxuLy8gMiDRgdC10YLRgtC40L3QsyDQtNC70Y8g0L/QvtC70YPRh9C10L3QuNGPINC80LDRgdGB0LjQstCwINGBINGB0LXRgNCy0LXRgNCwX19fX19fX19fX19fX19fX1xyXG4vLyBjb25zdCBjb25maWdBcGkgPSB7XHJcbi8vICAgdXJsOiAnaHR0cHM6Ly9tZXN0by5ub21vcmVwYXJ0aWVzLmNvL3YxL2NvaG9ydC02My9jYXJkcycsXHJcbi8vICAgaGVhZGVyczoge1xyXG4vLyAgICAgYXV0aG9yaXphdGlvbjogJ2U5MDBlMzYxLWE0ZjktNDE2Ny1iN2QxLWZjYzA3OGFhMzA4YSdcclxuLy8gICB9XHJcbi8vIH07XHJcblxyXG4vLyBjb25zdCBhcGkgPSBuZXcgQXBpKGNvbmZpZ0FwaSk7XHJcbi8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXHJcblxyXG5cclxuLy8gMyDRgdC10YLRgtC40L3QsyDQtNC70Y8g0L7RgtC/0YDQsNCy0LrQuCDQutCw0YDRgtC+0YfQutC4X19fX19fX19fX19fX19fX19fX19fX19fX19cclxuXHJcbi8vIF9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xyXG5cclxuXHJcbi8vIGFwaS5nZXRJbml0aWFsQ2FyZHMoKVxyXG4vLyAgIC50aGVuKChyZXMpID0+IHtcclxuLy8gICAgIGNvbnNvbGUubG9nKHJlcywgJ9C80LDRgdGB0LjQsiDRgSDRgdC10YDQstCwJyk7XHJcbi8vICAgICBjYXJkTGlzdC5yZW5kZXJDYXJkcyhyZXMucmV2ZXJzZSgpKTtcclxuLy8gICB9KVxyXG4vLyAgIC5jYXRjaCgoZXJyKSA9PiB7YWxlcnQoJ9C+0YjQuNCx0LrQsCDQtNC+0YHRgtGD0L/QsCwg0L/QvtC/0YDQvtCx0YPQudGC0LUg0L/QvtC30LbQtScpfSk7Il0sIm5hbWVzIjpbIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsIl9jb25maWciLCJfZm9ybSIsIl9pbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaW5wdXRTZWxlY3RvciIsIl9idXR0b25FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX3NwYW5FcnJvcnMiLCJrZXkiLCJ2YWx1ZSIsImlucHV0RWxlbWVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yU3BhbiIsImNvbmNhdCIsImlkIiwiZXJyb3JDbGFzcyIsInRleHRDb250ZW50IiwiYWRkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dExpc3QiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiZGlzYWJsZWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJfdGhpcyIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsInNwYW4iLCJpbnB1dCIsIkNhcmQiLCJkYXRhIiwidXNlcklkIiwidGVtcGxhdGVTZWxlY3RvciIsImZ1bGxzY3JlZW4iLCJvcGVuUmVtb3ZlQ2FyZFBvcHVwIiwiX3RpdGxlIiwibmFtZSIsIl9waG90byIsImxpbmsiLCJfbGlrZXMiLCJsaWtlcyIsIl9vd25lcklkIiwib3duZXIiLCJfaWQiLCJfY2FyZElkIiwiX3VzZXJJZCIsIl90ZW1wbGF0ZVNlbGVjdG9yIiwiX29wZW5GdWxsc2NyZWVuIiwiX29wZW5SZW1vdmVDYXJkUG9wdXAiLCJfZGVsZXRlQnV0dG9uIiwic3R5bGUiLCJkaXNwbGF5IiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2NhcmRUaXRsZSIsIl9jYXJkSW1hZ2UiLCJzcmMiLCJhbHQiLCJfbGlrZXNDb3VudGVyIiwibGVuZ3RoIiwiX25ld0NhcmQiLCJfbGlrZUJ1dHRvbiIsInRvZ2dsZSIsIl9zd2l0Y2hMaWtlIiwiX2dldFRlbXBsYXRlIiwiX3Nob3dVcm4iLCJfc2V0RGF0YSIsIlNlY3Rpb24iLCJfcmVmIiwiY29udGFpbmVyIiwiYXBpIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJfYXBpIiwiZWxlbWVudCIsInByZXBlbmQiLCJjYXJkcyIsIml0ZW0iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfc2VsZWN0b3IiLCJfY2xvc2VJY29uIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJjbG9zZSIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXBXaXRoSW1hZ2UiLCJfUG9wdXAiLCJfaW5oZXJpdHMiLCJfc3VwZXIiLCJjYWxsIiwiX2ltYWdlIiwidGl0bGUiLCJfZ2V0IiwiX2dldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiUG9wdXBXaXRoRm9ybSIsImNhbGxiYWNrIiwiX3N1Ym1pdEZvcm0iLCJfZm9ybUlucHV0TGlzdCIsIl90aGlzMiIsIl9pbnB1dHNPYmplY3QiLCJfdGhpczMiLCJwcmV2ZW50RGVmYXVsdCIsIl9nZXRJbnB1dFZhbHVlcyIsInJlc2V0IiwiUG9wdXBXaXRoQ29uZmlybWF0aW9uIiwic2VsZWN0b3IiLCJzdWJtaXRDYWxsYmFjayIsIl9zdWJtaXRDYWxsYmFjayIsImFjdGlvbiIsIlVzZXJJbmZvIiwidXNlckluZm8iLCJwcm9maWxlTmFtZSIsImRlc2NyaXB0aW9uIiwiYXZhdGFyIiwiX3VzZXJOYW1lIiwidXNlck5hbWVTZWxlY3RvciIsIl91c2VyQWJvdXQiLCJ1c2VyQWJvdXRTZWxlY3RvciIsIl9hdmF0YXIiLCJhYm91dCIsIm5ld1VzZXJEYXRhIiwiQXBpIiwiX3VzZXJzVXJsIiwidXJsIiwidXNlcnNVcmwiLCJfY2FyZHNVcmwiLCJjYXJkc1VybCIsIl9hdmF0YXJVcmwiLCJhdmF0YXJVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJjb25zb2xlIiwibG9nIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1cmxBdmF0YXIiLCJvYmplY3QiLCJjYXJkSWQiLCJhdXRob3JpemF0aW9uIiwiY2F0Y2giLCJlcnIiLCJlZGl0QnV0dG9uIiwicG9wdXBGb3JtUHJvZmlsZSIsIm5hbWVJbnB1dCIsImpvYklucHV0IiwiYXZhdGFyRm9ybSIsIm5ld0NhcmRBZGRCdXR0b24iLCJwb3B1cElucHV0VHlwZUNhcmROYW1lIiwicG9wdXBJbnB1dFR5cGVDYXJkTGluayIsImZvcm1UeXBlQWRkQ2FyZCIsInByb2ZpbGVGb3JtIiwidXNlckRhdGEiLCJlZGl0UHJvZmlsZUluZm8iLCJzZXRFdmVudExpc3RlbmVycyIsInZhbGlkYXRvclByb2ZpbGVGb3JtIiwic3dpdGNoRXJyb3JNb2RlIiwic3dpdGNoUHJvZmlsZUJ1dHRvbk1vZGUiLCJvcGVuIiwiZm9ybVdpdGhBdmF0YXIiLCJlZGl0QXZhdGFyIiwiUHJvbWlzZSIsImFsbCIsImdldEluZm9BYm91dFVzZXIiLCJnZXRJbml0aWFsQ2FyZHMiLCJfcmVmMiIsImNhcmRMaXN0IiwicmVuZGVyQ2FyZHMiLCJyZXZlcnNlIiwiYWxlcnQiLCJjYXJkIiwiYWRkSXRlbSIsImNyZWF0ZUNhcmQiLCJvcGVuRnVsbHNjcmVlblBob3RvIiwicmVtb3ZlQ2FyZFBvcHVwIiwic2V0U3VibWl0QWN0aW9uIiwiZGVsZXRlQ2FyZCIsImdlbmVyYXRlQ2FyZCIsImFkZENhcmRGb3JtIiwic2VuZENhcmQiLCJ2YWxpZGF0b3JBZGRDYXJkRm9ybSIsImRpc2FibGVBZGRDYXJkUG9wdXBCdXR0b24iLCJpbWFnZVBvcHVwIiwiZW5hYmxlQ29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiZW5hYmxlVmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=